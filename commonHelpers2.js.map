{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// import validator from \"validator\";\n\n// const KEY_MESSAGE = \"feedback-form-state\";\n// const formRef = document.querySelector('form');\n\n\n// formRef.addEventListener('input', addLocalStorage)\n// function addLocalStorage() {    \n//     const objMessage = JSON.stringify({ email: formRef.elements.email.value.trim(), message: formRef.elements.message.value.trim()});\n//     localStorage.setItem(KEY_MESSAGE, objMessage)    \n// }\n\n// const objMessage = JSON.parse(localStorage.getItem(KEY_MESSAGE)) || {};\n// formRef.elements.email.value = objMessage.email || '';\n// formRef.elements.message.value = objMessage.message || '';\n\n// formRef.addEventListener('submit', removeLocalStorage)\n// function removeLocalStorage(event) {\n//     event.preventDefault();\n//     const email = formRef.elements.email.value.trim();\n//     const message = formRef.elements.message.value.trim();\n//     if (email === '' || message === '') {\n//         alert('Заповніть будь-ласка всі поля форми!')\n//     }\n//     else {\n//         console.log({email,message});\n//         localStorage.removeItem(KEY_MESSAGE);\n//         formRef.reset();\n//     }    \n// }\nconst formData = {\n    email: \"\",\n    message: \"\",\n}\n\nconst keyName = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\n\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);\n\n// save inout value in local storage key logic\nfunction handleInput(event) {\n    if (event.target.nodeName !== \"INPUT\" && event.target.nodeName !== \"TEXTAREA\") {\n        return;\n    }\n    const name = event.target.name;\n    const value = event.target.value;\n    if (name === \"email\" || name === \"message\") {\n        formData[name] = value;\n        localStorage.setItem(keyName, JSON.stringify(formData));\n    }\n}\n\n// set input values after refreshing page logic\nif (localStorage.getItem(keyName)) {\n    let parsedData = {};\n    try {\n        parsedData = JSON.parse(localStorage.getItem(keyName)) || {};\n    } catch (e) {\n        console.log(\"Invalid JSON in localStorage:\");\n    }\n    form.elements.email.value = parsedData.email || \"\";\n    form.elements.message.value = parsedData.message || \"\";\n    for (let elem in formData) {\n        formData[elem] = parsedData[elem] || \"\";\n    }\n}\n\n// submit logic\nfunction handleSubmit(event) {\n    event.preventDefault();\n    for (let elem in formData) {\n        if (formData[elem].trim() === \"\") {\n            console.log(\"Fill please all fields\");\n            return;\n        }\n    }\n    console.log(formData);\n    localStorage.removeItem(keyName);\n    for (let elem in formData) {\n        formData[elem] = \"\";\n    }\n    form.reset();\n}\n"],"names":["formData","keyName","form","handleInput","handleSubmit","event","name","value","parsedData","elem"],"mappings":"oDA8BA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAU,sBAEVC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAW,EAC1CD,EAAK,iBAAiB,SAAUE,CAAY,EAG5C,SAASD,EAAYE,EAAO,CACxB,GAAIA,EAAM,OAAO,WAAa,SAAWA,EAAM,OAAO,WAAa,WAC/D,OAEJ,MAAMC,EAAOD,EAAM,OAAO,KACpBE,EAAQF,EAAM,OAAO,OACvBC,IAAS,SAAWA,IAAS,aAC7BN,EAASM,CAAI,EAAIC,EACjB,aAAa,QAAQN,EAAS,KAAK,UAAUD,CAAQ,CAAC,EAE9D,CAGA,GAAI,aAAa,QAAQC,CAAO,EAAG,CAC/B,IAAIO,EAAa,CAAA,EACjB,GAAI,CACAA,EAAa,KAAK,MAAM,aAAa,QAAQP,CAAO,CAAC,GAAK,EAC7D,MAAW,CACR,QAAQ,IAAI,+BAA+B,CAC9C,CACDC,EAAK,SAAS,MAAM,MAAQM,EAAW,OAAS,GAChDN,EAAK,SAAS,QAAQ,MAAQM,EAAW,SAAW,GACpD,QAASC,KAAQT,EACbA,EAASS,CAAI,EAAID,EAAWC,CAAI,GAAK,EAE7C,CAGA,SAASL,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,QAASI,KAAQT,EACb,GAAIA,EAASS,CAAI,EAAE,KAAI,IAAO,GAAI,CAC9B,QAAQ,IAAI,wBAAwB,EACpC,MACH,CAEL,QAAQ,IAAIT,CAAQ,EACpB,aAAa,WAAWC,CAAO,EAC/B,QAASQ,KAAQT,EACbA,EAASS,CAAI,EAAI,GAErBP,EAAK,MAAK,CACd"}